<!DOCTYPE html>
<html>
<head>
    <title>Robot Control Interface</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .button { padding: 10px 20px; margin: 5px; font-size: 16px; }
        .button.active { background-color: #4CAF50; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Robot Control Interface</h1>
        <div>
            <button class="button" onclick="toggleButton(this, 'start')">Start</button>
            <button class="button" onclick="toggleButton(this, 'stop')">Stop</button>
        </div>
        <div>
            <h2>Actions</h2>
            <button class="button" onclick="toggleButton(this, 'action_1')">Action 1</button>
            <button class="button" onclick="toggleButton(this, 'action_2')">Action 2</button>
            <button class="button" onclick="toggleButton(this, 'action_3')">Action 3</button>
            <button class="button" onclick="toggleButton(this, 'action_4')">Action 4</button>
        </div>
        <div>
            <h2>Move to Position</h2>
            <button class="button" onclick="toggleButton(this, 'move_1')">Position 1</button>
            <button class="button" onclick="toggleButton(this, 'move_2')">Position 2</button>
            <button class="button" onclick="toggleButton(this, 'move_3')">Position 3</button>
            <button class="button" onclick="toggleButton(this, 'move_4')">Position 4</button>
            <button class="button" onclick="toggleButton(this, 'move_5')">Position 5</button>
            <button class="button" onclick="toggleButton(this, 'move_6')">Position 6</button>
            <button class="button" onclick="toggleButton(this, 'move_7')">Position 7</button>
            <button class="button" onclick="toggleButton(this, 'move_8')">Position 8</button>
            <button class="button" onclick="toggleButton(this, 'move_9')">Position 9</button>
            <button class="button" onclick="toggleButton(this, 'move_10')">Position 10</button>
            <button class="button" onclick="toggleButton(this, 'move_11')">Position 11</button>
            <button class="button" onclick="toggleButton(this, 'move_12')">Position 12</button>
            <button class="button" onclick="toggleButton(this, 'move_13')">Position 13</button>
            <button class="button" onclick="toggleButton(this, 'move_14')">Position 14</button>
            <button class="button" onclick="toggleButton(this, 'move_15')">Position 15</button>
            <button class="button" onclick="toggleButton(this, 'move_16')">Position 16</button>
        </div>
        <div>
            <h2>Status</h2>
            <pre id="status">Waiting for connection...</pre>
        </div>
    </div>
    <script>
        const ws = new WebSocket('ws://' + window.location.hostname + ':8080/ws');
        let currentCommand = '';

        ws.onopen = () => {
            document.getElementById('status').textContent = 'Connected';
            setInterval(() => {
                if (currentCommand) {
                    ws.send(currentCommand);
                }
            }, 1);
        };

        ws.onmessage = (event) => {
            document.getElementById('status').textContent = event.data;
        };

        ws.onclose = () => {
            document.getElementById('status').textContent = 'Disconnected';
        };

        function toggleButton(button, command) {
            const buttons = document.querySelectorAll('.button');
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            currentCommand = command;
        }
    </script>
</body>
</html>
